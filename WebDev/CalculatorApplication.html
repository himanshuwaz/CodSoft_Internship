<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Calculator</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter for a clean look -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #e2e8f0; /* Light gray background */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
        }
        .calculator-container {
            background-color: #1f2937; /* Dark gray background for calculator */
            border-radius: 1.5rem; /* Rounded corners */
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            padding: 1.5rem;
            width: 100%;
            max-width: 360px; /* Max width for calculator */
        }
        .display {
            background-color: #374151; /* Slightly lighter dark gray for display */
            color: #f9fafb; /* White text */
            font-size: 2.5rem; /* Large font size for display */
            padding: 1rem;
            border-radius: 0.75rem; /* Rounded corners for display */
            margin-bottom: 1rem;
            text-align: right;
            overflow-x: auto; /* Allow horizontal scrolling for long numbers */
            white-space: nowrap; /* Prevent wrapping */
            height: 4.5rem; /* Fixed height for display */
            display: flex;
            align-items: flex-end; /* Align text to bottom */
            justify-content: flex-end; /* Align text to right */
        }
        .buttons-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr); /* 4 columns for buttons */
            gap: 0.75rem; /* Gap between buttons */
        }
        .btn {
            @apply p-4 rounded-xl text-2xl font-semibold transition-all duration-200 ease-in-out cursor-pointer;
            min-width: 60px; /* Ensure minimum button size */
            min-height: 60px; /* Ensure minimum button size */
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .btn-number {
            @apply bg-gray-600 text-white hover:bg-gray-700;
        }
        .btn-operator {
            @apply bg-indigo-500 text-white hover:bg-indigo-600;
        }
        .btn-clear {
            @apply bg-red-500 text-white hover:bg-red-600;
        }
        .btn-equals {
            @apply bg-green-500 text-white hover:bg-green-600;
            grid-column: span 2; /* Make equals button span 2 columns */
        }
    </style>
</head>
<body>

    <div class="calculator-container">
        <div id="display" class="display">0</div>

        <div class="buttons-grid">
            <button class="btn btn-clear" data-value="C">C</button>
            <button class="btn btn-operator" data-value="/">/</button>
            <button class="btn btn-operator" data-value="*">*</button>
            <button class="btn btn-operator" data-value="-">-</button>

            <button class="btn btn-number" data-value="7">7</button>
            <button class="btn btn-number" data-value="8">8</button>
            <button class="btn btn-number" data-value="9">9</button>
            <button class="btn btn-operator" data-value="+">+</button>

            <button class="btn btn-number" data-value="4">4</button>
            <button class="btn btn-number" data-value="5">5</button>
            <button class="btn btn-number" data-value="6">6</button>
            <button class="btn btn-number" data-value="1">1</button>

            <button class="btn btn-number" data-value="2">2</button>
            <button class="btn btn-number" data-value="3">3</button>
            <button class="btn btn-number" data-value="0">0</button>
            <button class="btn btn-number" data-value=".">.</button>

            <button class="btn btn-equals" data-value="=">=</button>
        </div>
    </div>

    <script>
        const display = document.getElementById('display');
        const buttons = document.querySelectorAll('.btn');

        let currentInput = '0';
        let operator = null;
        let previousInput = '';
        let resetDisplay = false; // Flag to clear display after an operation or equals

        // Function to update the display
        function updateDisplay() {
            display.textContent = currentInput;
        }

        // Function to handle number and decimal button clicks
        function handleNumber(value) {
            if (resetDisplay) {
                currentInput = value;
                resetDisplay = false;
            } else if (currentInput === '0' && value !== '.') {
                currentInput = value;
            } else if (value === '.' && currentInput.includes('.')) {
                // Do nothing if decimal already exists
            } else {
                currentInput += value;
            }
            updateDisplay();
        }

        // Function to handle operator button clicks
        function handleOperator(value) {
            if (operator && !resetDisplay) {
                // If an operator was already set and we're not resetting,
                // calculate the previous expression first
                calculate();
            }
            operator = value;
            previousInput = currentInput;
            resetDisplay = true; // Prepare to clear display for next number
        }

        // Function to perform calculation
        function calculate() {
            let result;
            const prev = parseFloat(previousInput);
            const current = parseFloat(currentInput);

            if (isNaN(prev) || isNaN(current)) {
                currentInput = 'Error';
                updateDisplay();
                return;
            }

            switch (operator) {
                case '+':
                    result = prev + current;
                    break;
                case '-':
                    result = prev - current;
                    break;
                case '*':
                    result = prev * current;
                    break;
                case '/':
                    if (current === 0) {
                        currentInput = 'Error: Div by zero';
                        updateDisplay();
                        return;
                    }
                    result = prev / current;
                    break;
                default:
                    return; // No operator set
            }
            currentInput = result.toString();
            operator = null; // Clear operator after calculation
            resetDisplay = true; // Reset display for next input
            updateDisplay();
        }

        // Function to clear the calculator
        function clearCalculator() {
            currentInput = '0';
            operator = null;
            previousInput = '';
            resetDisplay = false;
            updateDisplay();
        }

        // Add event listeners to all buttons
        buttons.forEach(button => {
            button.addEventListener('click', () => {
                const value = button.dataset.value; // Get value from data-value attribute

                if (value === 'C') {
                    clearCalculator();
                } else if (value === '=') {
                    calculate();
                } else if (['+', '-', '*', '/'].includes(value)) {
                    handleOperator(value);
                } else { // It's a number or decimal
                    handleNumber(value);
                }
            });
        });

        // Initial display update
        updateDisplay();
    </script>
</body>
</html>
